<!DOCTYPE html>
<html x-data="darkMode" lang="fa" dir="rtl" :class="{ 'dark' : darkMode }">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.rtl.min.css"
      integrity="sha384-CfCrinSRH2IR6a4e6fy2q6ioOX7O6Mtm1L9vRvFZ1trBncWmMePhzvafv7oIcWiW"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="./style.css" />
    <title>Bootstrap comingsoon template</title>
  </head>
  <body>
    <!----------------------------- switch dark mode ----------------------------->
    <div class="d-flex align-items-center justify-content-end p-4">
      <i class="bi bi-brightness-high-fill fs-4 me-2 lh-0 dark-text-white"></i>
      <div class="form-check form-switch">
        <input
          x-model="darkMode"
          class="form-check-input darkmode-switch"
          type="checkbox"
          id="flexSwitchCheckDefault"
        />
      </div>
      <i class="bi bi-moon-stars-fill fs-5 ms-2 lh-0 dark-text-white"></i>
    </div>
    <!----------------------------- header ----------------------------->
    <header class="header text-gray dark-text-white">
      <div class="container">
        <div class="row text-center">
          <h2 class="fw-bold mb-4">
            <span class="text-primary">لورم ایپسوم</span>
            <span id="text"></span>
          </h2>
          <p class="lh-lg">
            لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با
            استفاده از طراحان گرافیک است.
          </p>
        </div>

        <div
          x-data="countdown"
          class="row countdown justify-content-center my-5"
        >
          <div>
            <h3 class="fw-bold" x-text="days">2</h3>
            <h5 class="mb-0">روز</h5>
          </div>
          <div>
            <h3 class="fw-bold" x-text="hours"></h3>
            <h5 class="mb-0">ساعت</h5>
          </div>
          <div>
            <h3 class="fw-bold" x-text="minutes"></h3>
            <h5 class="mb-0">دقیقه</h5>
          </div>
          <div>
            <h3 class="fw-bold" x-text="seconds"></h3>
            <h5 class="mb-0">ثانیه</h5>
          </div>
        </div>
      </div>
    </header>

    <!-------------- bootstrap --------------------->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <!-------------- ityped js --------------------->
    <script src="https://unpkg.com/ityped@1.0.3"></script>
    <script>
      const textElement = document.querySelector("#text");
      ityped.init(textElement, {
        strings: [
          "متن ساختگی ...",
          "متن ساختگی با تولید",
          "متن ساختگی با تولید سادگی",
        ],
      });
    </script>
    <!-------------- alpine js --------------------->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <script>
      document.addEventListener("alpine:init", () => {
        Alpine.data("darkMode", () => ({
          darkMode: false,

          init() {
            this.darkMode = localStorage.theme === "dark" ? true : false;

            this.$watch("darkMode", (value) => {
              localStorage.theme = value ? "dark" : "light";
            });
          },
        })),
          Alpine.data("countdown", () => ({
            days: "00",
            hours: "00",
            minutes: "00",
            seconds: "00",

            init() {
              let endDate = new Date(2025, 11, 13).getTime();
              setInterval(() => {
                let nowDate = new Date().getTime();
                let time = endDate - nowDate;

                if (time >= 0) {
                  this.days = this.format(
                    Math.floor(time / (1000 * 60 * 60 * 24))
                  );
                  this.hours = this.format(
                    Math.floor(
                      (time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
                    )
                  );
                  this.minutes = this.format(
                    Math.floor((time % (1000 * 60 * 60)) / (1000 * 60))
                  );
                  this.seconds = this.format(
                    Math.floor((time % (1000 * 60)) / 1000)
                  );
                }
              }, 1000);
            },

            format(num) {
              return num < 10 ? "0" + num : num;
            },
          }));
      });
    </script>
  </body>
</html>
